{% extends "base.html" %}
{% block extrahead %}
  {% set title = config.site_name %}
  {% if page and page.meta and page.meta.title %}
    {% set title = title ~ " - " ~ page.meta.title %}
  {% elif page and page.title and not page.is_homepage %}
    {% set title = title ~ " - " ~ page.title %}
  {% endif %}
  <meta property="og:type" content="website" />
  <meta property="og:title" content="{{ title }}" />
  <meta property="og:description" content="{{ config.site_description }}" />
  <meta property="og:url" content="{{ page.canonical_url }}" />
  {% if page.meta and page.meta.image %}
    <meta property="og:image" content="{{ page.meta.image }}" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta name="twitter:image" content="{{ page.meta.image }}" />
  {% endif %}
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ title }}" />
  <meta name="twitter:description" content="{{ config.site_description }}" />
{% endblock extrahead %}
<!------------------------ Header -->
{% block header %}
  <!-- Determine base classes -->
  {% set class = "md-header" %}
  <header class="{{ class }}" data-md-component="header">
    <nav class="md-header__inner md-grid" aria-label="{{ lang.t('header') }}">
      <!-- Link to home with site name -->
      <a href="{{ config.extra.homepage | d(nav.homepage.url, true) | url }}"
         title="{{ config.site_name | e }}"
         class="md-header__button md-logo"
         aria-label="{{ config.site_name }}"
         data-md-component="logo">
        {{ config.site_name }}
      </a>
      <!-- Render item list -->
      <ul class="md-nav__list">
        {% for nav_item in nav %}
          {% set path = "__nav_" ~ loop.index %}
          {% set level = 1 %}
          {% include "partials/nav-item.html" %}
        {% endfor %}
      </ul>
      <!-- Button to open search modal -->
      {% if "material/search" in config.plugins %}
        <label class="md-header__button md-icon" for="__search">{% include ".icons/material/magnify.svg" %}</label>
        <!-- Search interface -->
        {% include "partials/search.html" %}
      {% endif %}
      <!-- Repository information -->
      {% if config.repo_url %}
        <div class="md-nav__source">{% include "partials/source.html" %}</div>
      {% endif %}
    </nav>
  </header>
{% endblock header %}
<!------------------------ Site nav -->
{% block site_nav %}
{% endblock site_nav %}
<!------------------------ Content -->
<!-- Page content -->
{% block container %}
  <div class="md-content" data-md-component="content">
    <!-- Hero -->
    {% if page.meta and page.meta.image %}
      <img class="w-100"
           src="{{ page.meta.image }}"
           width="auto"
           height="auto"
           style="max-height: 400px; max-width: 100%"
           alt="{{page.meta.imagealt}}" />
    {% endif %}
    <article class="md-content__inner md-typeset">
      {% block content %}
        <!-- Tags -->
        {% if "tags" in config.plugins %}
          {% include "partials/tags.html" %}
        {% endif %}
        <!-- Actions (edit button etc.) -->
        {% include "partials/actions.html" %}
        <!--
          Check whether the content starts with a level 1 headline. If it doesn't, the
          page title (or respectively site name) is used as the main headline.
        -->
        {% set first = page.toc | first %}
        {% if first and first.level != 1 %}<h1>{{ page.title | d(config.site_name, true)}}</h1>{% endif %}
        <!-- Page content -->
        {{ page.content }}
        <!-- Source file information -->
        {% if page.meta and (page.meta.git_revision_date_localized or page.meta.revision_date) %}
          {% include "partials/source-file.html" %}
        {% endif %}
        <!-- Was this page helpful? -->
        {% include "partials/feedback.html" %}
        <!-- Comment system -->
        {% include "partials/comments.html" %}
      {% endblock content %}
    </article>
  </div>
{% endblock container %}
<!------------------------ Content -->
{% block footer %}
  <footer class="md-footer">
    <!-- Link to previous and/or next page removed -->
    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        {% include "partials/copyright.html" %}
        <!-- Social links -->
        {% if config.extra.social %}
          {% include "partials/social.html" %}
        {% endif %}
      </div>
    </div>
  </footer>
{% endblock footer %}
